(this.webpackJsonpfiregram=this.webpackJsonpfiregram||[]).push([[0],{14:function(e,t,a){e.exports=a(25)},19:function(e,t,a){},25:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(12),l=a.n(c),u=(a(19),a(8)),i=a(2),s=a(4);a(26),a(20);s.initializeApp({apiKey:"AIzaSyCE31v-ku1YgAu61IrKtJDiFjOmvm7FeBg",authDomain:"firegram-project-a78a3.firebaseapp.com",projectId:"firegram-project-a78a3",storageBucket:"firegram-project-a78a3.appspot.com",messagingSenderId:"130514101878",appId:"1:130514101878:web:ef50f98ceffb1bbecb6157"});var o=s.storage(),m=s.firestore(),f=s.firestore.FieldValue.serverTimestamp,p=function(e){var t=Object(r.useState)([]),a=Object(i.a)(t,2),n=a[0],c=a[1];return Object(r.useEffect)((function(){var t=m.collection(e).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(u.a)(Object(u.a)({},e.data()),{},{id:e.id}))})),c(t)}));return function(){return t()}}),[e]),{docs:n}};var d=function(){var e=p("images").docs;return console.log(e),n.a.createElement("div",{className:"img-grid"},e&&e.map((function(e){return n.a.createElement("div",{className:"img-wrap",key:e.id},n.a.createElement("img",{src:e.url,alt:"uploaded img"}))})))},g=function(){return n.a.createElement("div",{className:"title"},n.a.createElement("h1",null,"pictures"),n.a.createElement("h2",null,"My Pictures"),n.a.createElement("p",null,"My humble collection of photos."))},b=a(7),v=a.n(b),E=a(13),j=function(e){var t=Object(r.useState)(0),a=Object(i.a)(t,2),n=a[0],c=a[1],l=Object(r.useState)(null),u=Object(i.a)(l,2),s=u[0],p=u[1],d=Object(r.useState)(null),g=Object(i.a)(d,2),b=g[0],j=g[1];return Object(r.useEffect)((function(){var t=o.ref(e.name),a=m.collection("images");t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;c(t)}),(function(e){p(e)}),Object(E.a)(v.a.mark((function e(){var r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:return r=e.sent,n=f(),e.next=6,a.add({url:r,createdAt:n});case 6:j(r);case 7:case"end":return e.stop()}}),e)}))))}),[e]),{progress:n,url:b,error:s}};var O=function(e){var t=e.file,a=e.setFile,c=j(t),l=c.url,u=c.progress;return Object(r.useEffect)((function(){l&&a(null)}),[l,a]),n.a.createElement("div",{className:"progress-bar",style:{width:u+"%"}})};var h=function(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(r.useState)(null),u=Object(i.a)(l,2),s=u[0],o=u[1],m=["image/png","image/jpeg"];return n.a.createElement("form",null,n.a.createElement("label",null,n.a.createElement("input",{type:"file",onChange:function(e){var t=e.target.files[0];t&&m.includes(t.type)?(c(t),o("")):(c(null),o("Please select an image file (png or jpeg)"))}}),n.a.createElement("span",null,"+")),n.a.createElement("div",{className:"output"},s&&n.a.createElement("div",{className:"error"},s),a&&n.a.createElement("div",null,a.name),a&&n.a.createElement(O,{file:a,setFile:c})))};var y=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(g,null),n.a.createElement(h,null),n.a.createElement(d,null))};l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(y,null)),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.a3d4262c.chunk.js.map